#! /bin/bash 

file PopuWin_Confirm.rb require 'watir' require 'win32ole' require 'watir/WindowHelper' #@winhp=WindowHelper.new autoit = WIN32OLE.new"AutoItX3.Control" puts "启动线程" 2.times do |i| sleep(1) puts "等待弹出确认对话框,注意不能切换到其它窗口,保持IE为激活!" #@winhp. push_confirm_button_ok #这个方法不行... #ret = autoit.WinWait('Microsoft Internet Explorer', '', 10) ret = autoit.WinWait('Microsoft Internet Explorer', '', 4) #ret = autoit.WinActive('Microsoft Internet Explorer', '', 10) if (ret==1) puts " Reboot dialog appear, click it" sleep(0.5) autoit.Send "{ENTER}" autoit.Send "{ENTER}" # sleep(1) # autoit.Send "{ENTER}" # sleep(1) # autoit.Send "{ENTER}" ret = autoit.WinWait('Login - Microsoft Internet Explorer', '', 5) if (ret==1) sleep(1) autoit.Send "!f" autoit.Send "{c}" else puts("no Login, exit") exit(1) end sleep(1) #等待确认 break end end puts "End Pop_confir" 

 #puts ie.show_frames() log.AwLog "Step 3: Enter Wimax.Scanset page and set" #Click menuframe puts "show_links" #ie.frame(:name,"menufrm").show_links() puts "show_all_objects" #ie.frame(:name,"menufrm").show_all_objects() #ie.show_frames() ie.frame(:name,"menufrm").link(:text,"Scanset").click #ie.frame(:name,"contentfrm").text_field(:name, "ChannelPlanIdentifier").set("zhangjian") ie.frame(:name,"contentfrm").select_list(:name, "Bandwidth").select(Band) ie.frame(:name,"contentfrm").text_field(:name, "FirstFrequency").set(FstQ) ie.frame(:name,"contentfrm").text_field(:name, "LastFrequency").set(LstQ) ie.frame(:name,"contentfrm").button(:name, "btnApply").click #ie.frame(:name,"contentfrm").show_all_objects() sleep(1) #ie.frame(:name,"menufrm").link(:index,22).click # ie.frame(:name, "contentfrm").show_divs() ie.frame(:name,"contentfrm").show_all_objects() ie.frame(:name,"contentfrm").checkbox(:name, "Bandwidth10M").set("off") ie.frame(:name,"contentfrm").checkbox(:name, "Bandwidth10M").click ie.frame(:name,"contentfrm").button(:name, "btnSave").click sleep(2) #ie.frame(:name,"contentfrm").show_all_objects() #ie.frame(:name,"menufrm").show_links() log.AwLog "Step 4: Press Reboot button" #启动处理Popu的进程 Thread.new{system('ruby PopuWin_Confirm.rb')} sleep(3) #等待线程启动 log.AwLog "## ----------------not connect, Alt+Tab -----------------##" autoit = WIN32OLE.new"AutoItX3.Control" autoit.WinActivate "content - Microsoft Internet Explorer", "" ie.frame(:name,"menufrm").link(:index,22).click puts "\n\nMain exit\n\n" #alerie = Watir::IE.attach(:title, "Microsoft Internet Explorer") # file --- Log.rb --- #-------------------- # demo test for the WATIR controller #------------------- require 'watir' class CLog def initialize(strLogfileName) #initialize相当于C++构造函数,new时被调用 if (strLogfileName==nil or strLogfileName=="") strLogfileName = "Unknown.log" end @m_LogFileName = strLogfileName #前面加@表示为Class成员变量 end def AwLog(strLog) #打印到屏幕 puts strLog #记录日志 t1 = Time.now st1 = sprintf('%d-%d-%d %d:%d:%d',t1.year,t1.mon,t1.day,t1.hour,t1.min,t1.sec) strLog = "[" + st1 + "]" + strLog aFile = File.open(@m_LogFileName,"a") aFile.puts strLog aFile.close end end # -end of simple Google search test 

# file -- ruby --- # file 4_ruby.bat @echo off set curPath="%~dp0" cd %curPath% title "ruby" frq.rb %1 %2 %3 %4 %5 %6 cmd pause # file frq.rb require 'watir' # the watir controller require 'win32ole' require 'Log' MsIp =ARGV[0] #IP Band =ARGV[1] FstQ =ARGV[2] LstQ =ARGV[3] User =ARGV[4] #User Pass =ARGV[5] #Pass #FstQ = 2496001 Usage = ' Usage: frq.rb IP Bandwidth FirstFrq LastFrq [User] [Passwd] BandWidth must be In { 5000 | 10000 | 7000 | 8500 } FirstFrq & LastFrq in scope { 2496000 -- 2690000 } "输入参数不正确,MS的IP, Bandwidth, FirstFrq, LastFrq 不能为空! ' if ( "5000" == Band or "8500" == Band ) puts "\n" else puts "Bandwidth Error\n" puts Usage return end if ( (Integer(FstQ) < 2496000 or Integer(FstQ) > 2690000) or (Integer(LstQ) < 2496000 or Integer(LstQ) > 2690000) ) puts "FirstFrq or LastFrequency Error\n" puts Usage return end log = CLog.new("ModiFrequence.log") if (MsIp==nil ) #or User==nil or Pass==nil) puts Usage return end if (User==nil) User="admin" #没有输入用户名,取默认的admin end if (Pass==nil) Pass="admin" #没有输入用户名,取默认的admin end log.AwLog "## --------------Beginning Modify frq----------------##" # open the IE browser ie = Watir::IE.new #test_site = 'http://192.168.20.53' test_site = 'http://' + MsIp ie.goto(test_site) ie.text_field(:name, "Username").set(User) # txt_Username is the name of the field ie.text_field(:name, "Password").set(Pass) ie.link(:text, "Login").click if ie.contains_text("You have failed to login") return else log.AwLog " Check Login: Login Succ!" end 

# file -- vcproj_2_mk_gbk.py -- def visit_node(node, Csrc, attr_query): if 0 == len(node): return else: pass #print "" for child in node: if child.attrib.has_key(attr_query): if -1 != child.attrib[attr_query].find(r".c") or \ -1 != child.attrib[attr_query].find(r".cpp"): #print child.attrib[attr_query] Csrc.append(child.attrib[attr_query].replace('\\', '/')) children = child.getchildren() visit_node(children, Csrc, attr_query) # # 获取element的方法 # 1 通过getiterator --> getiterator(tag), a obj out lst_node = root.getiterator("person") print "by getiterator" for node in lst_node: print_node(node) # 2通过 getchildren --> a list out print "by getchildren" # lst_node_child = lst_node[0].getchildren()[0] lst_node_child = lst_node[0].getchildren() for child in lst_node_child: print_node(child) # 3 .find方法 --> find(paht), not list, but a obj return print "by find" node_find = root.find('person') print_node(node_find) """ #4. findall方法 --> a list out print "by findall" #node_findall = root.findall("person/name")[1] node_findall = root.findall("person/sex") print "Have %d nodes\n" % len(node_findall) print_node(node_findall[0]) sex = root.getiterator("ndname") print len(sex) #print_node(sex[0]) 

# Usage: telnet host [port] import sys, os, time from socket import * import thread BUFSIZE = 8*1024 # Telnet protocol characters IAC = chr(255) # Interpret as command DONT = chr(254) DO = chr(253) WONT = chr(252) WILL = chr(251) def main(): if len(sys.argv) < 2: sys.stderr.write('usage: telnet hostname [port]\n') sys.exit(2) host = sys.argv[1] try: hostaddr = gethostbyname(host) except error: sys.stderr.write(sys.argv[1] + ': bad host name\n') sys.exit(2) # if len(sys.argv) > 2: servname = sys.argv[2] else: servname = 'telnet' # if '0' <= servname[:1] <= '9': port = eval(servname) else: try: port = getservbyname(servname, 'tcp') except error: sys.stderr.write(servname + ': bad tcp service name\n') sys.exit(2) # s = socket(AF_INET, SOCK_STREAM) # try: s.connect((host, port)) except error, msg: sys.stderr.write('connect failed: %r\n' % (msg,)) sys.exit(1) # thread.start_new(child, (s,)) # this will mem leak parent(s) def parent(s): # read socket, write stdout iac = 0 # Interpret next char as command opt = '' # Interpret next char as option while 1: data, dummy = s.recvfrom(BUFSIZE) if not data: # EOF -- exit sys.stderr.write( '(Closed by remote host)\n') sys.exit(1) cleandata = '' for c in data: if opt: print ord(c) ## print '(replying: %r)' % (opt+c,) s.send(opt + c) opt = '' elif iac: iac = 0 if c == IAC: cleandata = cleandata + c elif c in (DO, DONT): if c == DO: print '(DO)', else: print '(DONT)', opt = IAC + WONT elif c in (WILL, WONT): if c == WILL: print '(WILL)', else: print '(WONT)', opt = IAC + DONT else: print '(command)', ord(c) elif c == IAC: iac = 1 print '(IAC)', else: cleandata = cleandata + c sys.stdout.write(cleandata) sys.stdout.flush() ## print 'Out:', repr(cleandata) def child(s): # read stdin, write socket while 1: line = sys.stdin.readline() ## print 'Got:', repr(line) if not line: break s.send(line) main()

# file -- svn_add_repos.sh -- #! /bin/sh [ $# -eq 0 ] && echo "Usage: addrepos.sh prj_name" && \ echo "First run, use, addrepos.sh test" && exit 1 prj=$1 if [ ! -f /opt/svn/.t_created ]; then if [ "$prj" -ne "test" ]; then echo "This is the 1st time run" echo -e "Run \n# addrepos.sh test\nPlease!" exit 0 fi touch /opt/svn/.t_created # create a new user mkdir -p /var/empty useradd -d /var/empty svn groupadd svn # create directory of repos mkdir -p /opt/svn/{repos,etc} # create svn-user.conf cp ./svn-user.conf /opt/svn/etc/svn-user.conf cp ./svn-authz.conf /opt/svn/etc/svn-authz.conf # create a test project directory svnadmin create /opt/svn/repos/$prj chown -R svn:svn /opt/svn/ # combine svnserve.conf prj_conf=/opt/svn/repos/$prj/conf/svnserve.conf rm -f /opt/svn/repos/$prj/conf/* cp ./sample.conf $prj_conf echo realm = "$prj"_Repository >> $prj_conf # import test repos svn import -m "first import" ./svn_t_repos file:///opt/svn/repos/test svnserve -d -r /opt/svn/repos exit 0 fi prj=$1 # create a test project directory svnadmin create /opt/svn/repos/$prj chown -R svn:svn /opt/svn/ # combine svnserve.conf prj_conf=/opt/svn/repos/$prj/conf/svnserve.conf rm -f /opt/svn/repos/$prj/conf/* cp ./sample.conf $prj_conf echo realm = "$prj"_Repository >> $prj_c 


Valgrind (1) helgrind posix API (2) cashegrind valgrind --tool=cachegrind --branch-sim=yes --cache-sim=yes --cachegrind-out-file=cache.out ./b.out Command2: Cachegrind也生成一个文件，默认名为cachegrind.out.pid，在上面输出则为cache.out，可以通过cg_annotate来读取。输出是一个更详细的列表。为了排版，下面的数据有删减 cg_annotate ./cache.out --auto=yes ./main.c， (3) valgrind --tool=callgrind --toggle-collect=main_pc ./call.out callgrind_annotate --threshold=100 callgrind.out.* --auto=yes ./call.c callgrind与opgprof, gprof的比较: opgprof与gprof都可以有图形化输出，而callgrind不可以，但是callgrind的使用更加灵活，其可以统计一段代码的调用次出，在调试算法时很有用处。 callgrind可以查看任何一个函数的调用次数。 命令callgrind_control -e -b 在valgrind 运行时同目录下运行可以得到一些关于函数调用时的堆栈信息。 概念： IR is Valgrind's RISC-like intermediate representation via which all instrumentation is done。 5.2 callgrind高级用法 valgrind --tool=callgrind --toggle-collect=main_pc ./call.out --toggle-collect可以统计一段代码中的函数统计，其还可以同时统计几段代码，这就需要借助valgrind源码包里callgrind.h valgrind.h中所定义的几个宏： CALLGRIND_START_INSTRUMENTATION CALLGRIND_STOP_INSTRUMENTATION (4) massif valgrind --tool=massif --time-unit=B --max-snapshots=999 --detailed-freq=10 --stacks=yes ./m.out; ms_print ./massif.out.* > mass.log cat mass.log

Msys vi /etc/profile alias vi='D:/Program\ Files/Vim/vim72/gvim.exe' # file --INstall.sh-- function install_vim72() { cd $workdir tar -jxvf vim-7.2.tar.bz2 -C /opt/ cd /opt/ cd vim72 && ./configure --enable-multibyte --enable-cscope --enable-pythoninterp cd src && make clean && make && make install echo "vim over" # # remove # # vim install files rm -rf vim72/ } function install_conf() { cd $workdir cp -a .vimrc \ .vim \ .bashrc\ env.sh \ ~ cp smb.conf /etc/samba/smb.conf . /root/.bashrc } function install_oprofile() { cd $workdir cd ./oprofile/ # copy files mkdir -p /root/bin/ cp ./gprof2dot.py ./opgprof.sh /root/bin cp -a ./op_test/ /root/ # install tar -zxvf oprof.tgz -C / mkdir -p /opt/ tar -zxvf graphviz-2.16.1.tar.gz -C /opt/ cd /opt/graphviz* ./configure --with-mylibgd=yes --with-gdlibdir=/usr/lib && make && make install echo -e "\nopgprof over, \nEnjoy it!!!\n" } # service on boot chkconfig mysql on #chkconfig smb on 

# msys makefile # The below 2 can all be OK. # SRCDIR=./src SRCDIR=. TARGET=server.exe ifneq (,${t}) TARGET=$(t) endif ifneq (,${T}) TARGET=$(T) endif WIN=-W1,subsystem:windows # # --MINGW32(+EGCS)-- # LDFLAGS=-lkernel32 -luser32 -lgdi32 -lshell32 -lwsock32 \ -lxml2 -lzlib1 -liconv \ -L .\libxml2 -I .\libxml2 -I . -I .. CFLAGS=-O2 -Wall CCFLAGS=$(CFLAGS) # CC=gcc CC=g++ SRC_s=$(wildcard ./*.cpp) .PHONY: server server: @$(CC) -o $@ $(SRC_s) $(LDFLAGS) $(WIN) cp $@.exe ../ clean: -rm -f a.exe 

0. network -> de-forbid services.msc to start the service 1. network to start vmnet1 & vmnet8 2.  ethernet -> Nat -> vmnet8 3.  -> Virtrul network setting Nat service (start) DHCP -> vmnet8 (Start) 

(1) native2ascii mptc.o:./mptc.cpp trap "mv -f $^_gbk $^" SIGINT && cp -f $^ $^_gbk && \ (( native2ascii $^ $^ && sed -i -r 's/(\\uff0c|\\u3001)/_/g' $^ ) || echo 2) && \ ($(cc) $(cflag) $(cppflag) $(covflag) $(cDEFS) $(cInc) -c $^ -o $@ || \ if [ 0 -ne $$? ];then mv -f $^_gbk $^;exit 1; fi) && \ mv -f $^_gbk $^ && touch $@ (2) iconv cmp_utf="\t\t$(cc) $(cflag) $(covflag) $(cDEFS) $(cInc) -c $^ -o $@" cmp_gbk="\t\t" + "trap \"mv -f $^_gbk $^\" SIGINT && cp -f $^ $^_gbk && \\" + "\n" + \ "\t\t" + "((iconv -f gbk -t utf-8 $^ > $^.u && mv -f $^.u $^) || echo 1) && \\" + "\n" + \ "\t\t" + "((sed -i 's/[，、]/_/g' $^ && native2ascii $^ $^) || echo 2) && \\" + "\n" + \ "\t\t" + "($(cc) $(cflag) $(cppflag) $(covflag) $(cDEFS) $(cInc) -c $^ -o $@ || \\" + "\n" + \ "\t\t" + "if [ 0 -ne $$? ];then mv -f $^_gbk $^;exit 1; fi) && \\" + "\n" + \ "\t\t" + "mv -f $^_gbk $^ && touch $@" 

(6) /* * a utf8 file will make * iconv -f cp936 -t utf-8 success * but * iconv -f gbk -t utf-8 fail */ $iconv -f gbk -t utf-8 $src > .tmp (7) /* * shell exe command in a process, then cd once make effect to another * Makefile exe every command in a process, so it can make -j 16, and cd */ (8) /* * FileZilla * the xmoo can't have xmoo in the /home dir, then FileZilla is OK */ 20101019 (1) #if __name__ #error "" #endif /* * The #error is preprocess feature, you can use * gcc -MM * which also get the .d file to find out where get wrong */ 20101021 (1) shell // find . -name "*.h" -o -name "*.c" -o -name "*.S" > cscope.files -a and -o or -z null string -n non-null string 20101029 $nat 1. network to start vmnet1 & vmnet8 2.  ethernet -> Nat -> vmnet8 3.  -> Virtrul network setting Nat service (start) DHCP -> vmnet8 (Start) 4. 20101224 $uptime -- linux $systeminfo -- win 20110527 $ulimit -a stack size (kbytes, -s) 8192 open files (-n) 1024 20110528 /* /etc/passwd * * 用户名:口令:用户标识号:组标识号:注释性描述:主目录:登录Shell */ useradd --show-defaults 20110622 $头文件 1. 当前工作路径 . 2. 系统默认 /usr/include 3. -I 指定路径 注意：/usr/include 只是被默认加到-I的后面，很人性化的东东，如此，你可以用你自己的头文件了，哈哈 #include "user.h" // if not exists in ., then search -I and /usr/include #include  // search the -I and /usr/include
20100919 $find /* @find will recursive search the directory without any option. * @without pointed path, it's the current path * @wildcard is '*' and '?' */ /* * -o */ #find . -name "*.h" -o -name "*.c" -o -name "*.S" > cscope.files 20100927 $smb /* don't store the user & passwd */ 0. if you want to change a user but windows remember the passwd control userpasswords2 preference -> manage passwd net use * /d /y a. C:\Documents and Settings\All Users\「开始」菜单\Xsamba to create a shortcut to the vm_linux 192.168.1.25 b. to open a new file clip to the Win, modify the /etc/samba/smb.conf. /* by this, no passwd is needed */ security = user c. smbpasswd -a root security = user [my_home] path = %H writeable = yes browseable = yes valid users = %U d. // check what share on the windows machine $smbclient -N -L 11.70.3.93 (2) #if 0 四、 Samba服务器高级应用之四：隐藏共享目录 1、 添加字段browseable = no 就可以实现，也就是说这个隐藏的目录对所有的用户都是不可见的，要访问得：\\samba服务器主机名或ip\隐藏共享目录，如果有很多的隐藏目录，要记住是很麻烦的。可以使用下面2的方法实现不用记。 2、 可以为需要隐藏目录的组和用户单独建立配置文件，从而实现隐藏目录。 #endif 20101016 (1) /* * in rc.local, please use tash.sh&, or it'll blocking here */ /etc/rc.d/rc.local But in Suse, Below instead: /etc/init.d/boot.local (2) export CDPATH=.:~ (3) Linux 10 useful command CDPATH, help $help, u can check how if for build ulimit use $ulimit u can know the biggest mem malloc can allocate (4) /* * It's the diff between the [source] [sh] * the process can pass the ENV var to it's child, not his papa */ locale.sh main.sh t.sh /* t.sh */ # !/bin/sh export LANG="zh_CN.GBK" export LC_ALL="zh_CN.GBK" /* main.sh */ #! /bin/sh ./t.sh echo "after t.sh, the main" locale (5) /* Moudle */ python import if __name__ == "__main__" if [ `basename $0` == "add_new_mnt.sh" ]; then shell source if [ "$0" != "-bash" ]; then fi source ./test.sh /* ./test.sh is the explicit dir, can't be test.sh */ 

 $* is the $@ trim the suffix. ( e.g. $@ is name.c and $* is name ) echo "in the console" /* * -o */ #find . -name "*.h" -o -name "*.c" -o -name "*.S" > cscope.files $xcopy xcopy /s /e /i /y svnmodification 123 sh -n syntax chen sh -v view all of the script content b4 exe it sh -x print one statemnet b4 exe it (1) top -b display as text (2) /* * sed -i "1 s/^/__the_new_line__\n/" a */ 11. xml CN ElementTree同样可以支持中文，但是只是UTF-8, pay attention 3 points: (1) xml encoding UTF-8 (2) fileencoding utf-8 (3) # -*- coding: utf-8 -*- # whatever # ----------------------------------- from xml.etree.ElementTree import ElementTree  ~ fileencoding=utf-8 (5) T = T.decode("cp936", "ignore") 20100906 (1) unix $crontab {-l,-e,-r} /* * crontab must append with a para, in case not,  to exit, * Don't use , it will transacte the conf file. */ # export EDITOR=vi # crontab -e min hr day Mon Weekday * * * * * /usr/bin/echo "yes " > /var/log/cron.zj.log 30 17 * * 5 /usr/bin/banner "Time to go!" > /dev/console //*/5 mean every 5 minutes */5 * * * * /usr/bin/echo "yes " > /var/log/cron.zj.log :wq 20100907 $solaris manual http://blogimg.chinaunix.net/blog/upfile/070803180032.rar (1) memory prtconf | grep 'Memory' /usr/platform/sun4u/sbin/prtdiag /* AAA */ (2) AAA 1. oracle version su - oracle sqlplus itellindb/sysdb@sysdb 2. AAA version su - iscc2 passwd: iscc2aaa manager -v /* memory use */ (3) equal top prstat 


2001 年，敏捷联盟的骨干们在美国犹他州的雪鸟滑雪场聚会时，喊出了四句口号： +=======================================+ | 个体和交互 胜过 过程和工具； | +---------------------------------------+ | 可以工作的软件 胜过 面面俱到的文档；| +---------------------------------------+ | 客户合作 胜过 合同谈判； | +---------------------------------------+ | 响应变化 胜过 遵循计划； | +=======================================+ 



 Linux 汇编语言开发指南 http://blog.csdn.net/hnhbdss/archive/2006/11/22/1404717.aspx 

毛泽东评点中国兵法十论 http://blog.csdn.net/zhaoyang17/archive/2005/03/01/306454.aspx



function install_vim72() { cd $workdir tar -jxvf vim-7.2.tar.bz2 -C /opt/ cd /opt/ cd vim72 && ./configure --enable-multibyte --enable-cscope --enable-pythoninterp cd src && make clean && make && make install echo "vim over" # # remove # # vim install files rm -rf vim72/ } 

最主要的是要找到论坛及网络中可利用的资源 关于groogle的安装 (1) PHP的extention make distclean ./configure --with-mysql --with-apxs2=/www/bin/apxs --enable-mbstring --with-bz2 --with-zlib --with-gd \ --with-jpeg-dir=/usr/lib \ --with-pdo-mysql \ --with-png-dir \ --with-xpm-dir=/usr/X11R6/lib \ --with-freetype-dir=/usr/lib \ && sed -i 's/-lcrypt -lresolv/-lcrypt -lresolv -liconv/' Makefile (2) 足够多的库要安装 最主要的是gd, X11了，在suse中搜 jpeg, 相关的开发库都要装了 (3) Apache与PHP装好后，groogle/conf/server.php, 完成下面两行就可以登陆了，之后就按提示就可以了 $https_for_login=false; $https_after_login=false; 

 2010-05-20 04:58:58 UTC [~]# pear list Installed packages, channel pear.php.net: ========================================= Package Version State Archive_Tar 1.3.6 stable Auth 1.6.2 stable Console_Getopt 1.2.3 stable File_Archive 1.5.4 stable HTML_Template_IT 1.2.1 stable Log 1.12.0 stable MDB2 2.4.1 stable MDB2_Driver_mysql 1.4.1 stable MIME_Type 1.2.0 stable Net_UserAgent_Detect 2.3.0 stable PEAR 1.9.0 stable Structures_Graph 1.0.3 stable Text_Diff 1.1.1 stable XML_RPC 1.5.3 stable XML_Util 1.2.1 stable

 MDB2_Driver_mysql

 pear.doctrine-project.org  Doctrine PEAR channel  doctrine  http://pear.doctrine-project.org/rest/  http://pear.doctrine-project.org/rest/  http://pear.doctrine-project.org/rest/  http://pear.doctrine-project.org/rest/
channel-add: Cannot open "http://localhost/channel.xml" (Connection to `openproxy.huawei.com:8080' failed: Connection timed out)

Doctrine-1.2.2.tgz is going, waiting ... parsePackageName(): invalid package name "package.xml" in "package.xml" Unknown channel "pear.doctrine-project.org" Parsing of package.xml from file "package.xml" failed install failed Doctrine-1.2.2.tgz over pear/File_Archive requires PHP extension "bz2" pear/File_Archive requires PHP extension "zlib" pear/SOAP requires package "pear/HTTP_Request" 

Doctrine doctrine Package "pear.php.net/Auth" dependency "pear.php.net/Log" has no releases Package "pear.php.net/Auth" dependency "pear.php.net/File_Passwd" has no releases Package "pear.php.net/Auth" dependency "pear.php.net/Net_POP3" has no releases Package "pear.php.net/Auth" dependency "pear.php.net/DB" has no releases Package "pear.php.net/Auth" dependency "pear.php.net/MDB" has no releases Package "pear.php.net/Auth" dependency "pear.php.net/MDB2" has no releases Package "pear.php.net/Auth" dependency "pear.php.net/Auth_RADIUS" has no releases Package "pear.php.net/Auth" dependency "pear.php.net/Crypt_CHAP" has no releases Package "pear.php.net/Auth" dependency "pear.php.net/File_SMBPasswd" has no releases Package "pear.php.net/Auth" dependency "pear.php.net/HTTP_Client" has no releases Package "pear.php.net/Auth" dependency "pear.php.net/SOAP" has no releases Package "pear.php.net/Auth" dependency "pear.php.net/Net_Vpopmaild" has no releases Package "pear.php.net/Auth" dependency "pecl.php.net/vpopmail" has no releases Package "pear.php.net/Auth" dependency "pecl.php.net/kadm5" has no releases 

export http_proxy=http://zkf29932:!xmoo3611@openproxy.huawei.com:8080 php.ini short_open_tag = On 

rpm --nodeps

 PHP Fatal error: Call to undefined function mb_detect_order() in /www/htdocs/func_i18n.php on line 3

Cannot load /www/modules/libphp5.so into server: /www/modules/libphp5.so: undefined symbol: zend_parse_parameters

linux 卸载 localhost:/usr/sbin # rpm -qa | grep php php5-5.1.2-29.35 apache2-mod_php5-5.1.2-29.35 localhost:/usr/sbin # rpm -qa | grep php | xargs rpm -e 

http://pecl.php.net/

http://groogle.sourceforge.net/install.php

Thank you for your response. bash isn't my preference shell. Can this be fixed under tcsh? **EDIT**: I finally found out what caused the problem. I had an old file called iconv under /home/local/bin directory which was inserted in the $PATH through my /etc/csh.cshrc.local. Whenever I tried to get any manpage, it was this /home/local/bin/iconv got called, instead of the /usr/bin/iconv. So, after removing the /home/local/bin/iconv file, the manpage is working again.

localhost:/usr/local/lib # man ls Reformatting ls(1), please wait... iconv: conversion from utf8 unsupported iconv: try 'iconv -l' to get the list of supported encodings

vimrc

http://blogold.chinaunix.net/u3/111969/showart_2325189.html set fileencodings=ucs-bom,utf-8,cp936,gb18030,big5,euc-jp,euc-kr,latin1


http://blogold.chinaunix.net/u/21908/showart_2218276.html 简明 Python 编程规范
http://blogold.chinaunix.net/u/21908/showart_2218276.html

http://bbs.chinaunix.net/viewthread.php?tid=1722442 《用Python做科学计算》问卷调查已经进行了两个多月，目前总共收到130份答复。回答本问卷调查您将可以获得本书最新的试读版本： 问卷调查地址： http://hyry.dip.jp/blogt.py?file=0406.blog 在线免费版本：http://hyry.dip.jp/pydoc/index.html 

Hello, I poll() over TCP-connected clients and sometimes have to remove them. The following code works ok for me (since many months): # add the new client $pkg->add($tcpSocket) if $Poll->events($tcpSocket) & POLLIN; for my $child (values %Kids) { # XXX a child can get removed inbetween next unless $child; my $fh = $child->{FH}; my $mask = $Poll->events($fh); if ($mask & (POLLERR | POLLHUP)) { $child->remove(); } elsif ($mask & POLLIN) { unless ($child->read()) { $child->remove(); next; } } elsif ($mask & POLLOUT) { unless ($child->write()) { $child->remove(); next; } } } It probably works ok, because I only remove the current element ($child) of the array. Now I have new situation, that I sometimes have to remove an other element of the array, while I'm in the $child->read() method. I've added next unless $child; above, but still my script dies with the error: "Use of freed value in iteration". From searching I know, that this is because I'm removing an element of an array whil iterating over it. But my question is, how could I workaround it? Thank you Alex "A. Farber"  2/28/2010 6:22:51 PM Header Report as Spam "A. Farber"  writes: > From searching I know, that this is because > I'm removing an element of an array > whil iterating over it. > > But my question is, how could I workaround it? Instead of removing elements immediately, push them onto another array. Once you're done iterating over the "main" array, iterate over the "hit list" array and remove the elements in it from the "main" array. sherm-- Sherm Pendley  2/28/2010 6:59:14 PM Header Report as Spam On Feb 28, 7:59=A0pm, Sherm Pendley  wrote: > "A. Farber"  writes: > > From searching I know, that this is because > > I'm removing an element of an array > > whil iterating over it. > > Instead of removing elements immediately, push them > onto another array. Once you're done iterating over > the "main" array, iterate over the "hit list" array > and remove the elements in it from the "main" array. Good idea, thank you! "A. Farber"  2/28/2010 7:04:38 PM Header Report as Spam A. Farber wrote: > Hello, > > I poll() over TCP-connected clients and sometimes > have to remove them. The following code works ok > for me (since many months): > > # add the new client > $pkg->add($tcpSocket) if $Poll->events($tcpSocket) & POLLIN; > > for my $child (values %Kids) { > # XXX a child can get removed inbetween > next unless $child; If the value has been removed from %Kids, $child will not magically turn false. (And even if it did, the "next" would occur too late to help). I don't understand the rest of what you are doing (your code seems to be using objects, but you don't give any indication of what modules they are objects of), but perhaps this could help: foreach my $key (keys %Kids) { next unless exists $Kids{$key}; my $child=$kids{$key}; Xho

[PATCH] Perl_croak("Use of freed value in iteration") Thread Next From: Dave Mitchell Date: April 21, 2003 05:19 Subject: [PATCH] Perl_croak("Use of freed value in iteration") Message ID: 20030421121950.GB18189@fdgroup.com It's a well-known bug that deleting things while iterating over items on the stack causes nasty coredumps, eg @a = (3,4); @a = () for (1,2,@a); This is because items on the stack aren't ref counted. This is too hard to fix, but the following patch applies the princple of post-equine-exit- paddock-area-securing, by giving a fatal error if it iterates over a freed value. Better a strange warning than a coredump? PS - I wasn't sure where to put a test - cmd/for.t sounds likely, but it needs a fresh Perl, so would it be be okay to add "require test.pl" in such a base test file? Dave. -- My get-up-and-go just got up and went. --- pp_hot.c- Mon Apr 21 12:13:39 2003 +++ pp_hot.c Mon Apr 21 12:38:29 2003 @@ -1859,6 +1859,12 @@ PP(pp_iter) else { sv = AvARRAY(av)[++cx->blk_loop.iterix]; } + if (sv && SvREFCNT(sv) == 0) { + *itersvp = Nullsv; + Perl_croak(aTHX_ + "Use of freed value in iteration (perhaps you modified the iterated array within the loop?)"); + } + if (sv) SvTEMP_off(sv); else --- pod/perldiag.pod- Mon Apr 21 12:27:10 2003 +++ pod/perldiag.pod Mon Apr 21 12:45:23 2003 @@ -4230,6 +4230,18 @@ generally because there's a better way to do it, and also because the old way has bad side effects. +=item Use of freed value in iteration (perhaps you modified the iterated array within the loop?) + +(F) This is typically caused by code like the following: + + @a = (3,4); + @a = () for (1,2,@a); + +You are not supposed to modify arrays while they are being iterated over. +For speed and efficiency reasons, Perl internally does not do full +reference-counting of iterated items, hence deleting such an item in the +middle of an iteration causes Perl to see a freed value. + =item Use of reference "%s" as array index (W misc) You tried to use a reference as an array index; this probably

[PATCH] Perl_croak("Use of freed value in iteration") Thread Next From: Dave Mitchell Date: April 21, 2003 05:19 Subject: [PATCH] Perl_croak("Use of freed value in iteration") Message ID: 20030421121950.GB18189@fdgroup.com It's a well-known bug that deleting things while iterating over items on the stack causes nasty coredumps, eg @a = (3,4); @a = () for (1,2,@a); This is because items on the stack aren't ref counted. This is too hard to fix, but the following patch applies the princple of post-equine-exit- paddock-area-securing, by giving a fatal error if it iterates over a freed value. Better a strange warning than a coredump? PS - I wasn't sure where to put a test - cmd/for.t sounds likely, but it needs a fresh Perl, so would it be be okay to add "require test.pl" in such a base test file? Dave. -- My get-up-and-go just got up and went. --- pp_hot.c- Mon Apr 21 12:13:39 2003 +++ pp_hot.c Mon Apr 21 12:38:29 2003 @@ -1859,6 +1859,12 @@ PP(pp_iter) else { sv = AvARRAY(av)[++cx->blk_loop.iterix]; } + if (sv && SvREFCNT(sv) == 0) { + *itersvp = Nullsv; + Perl_croak(aTHX_ + "Use of freed value in iteration (perhaps you modified the iterated array within the loop?)"); + } + if (sv) SvTEMP_off(sv); else --- pod/perldiag.pod- Mon Apr 21 12:27:10 2003 +++ pod/perldiag.pod Mon Apr 21 12:45:23 2003 @@ -4230,6 +4230,18 @@ generally because there's a better way to do it, and also because the old way has bad side effects. +=item Use of freed value in iteration (perhaps you modified the iterated array within the loop?) + +(F) This is typically caused by code like the following: + + @a = (3,4); + @a = () for (1,2,@a); + +You are not supposed to modify arrays while they are being iterated over. +For speed and efficiency reasons, Perl internally does not do full +reference-counting of iterated items, hence deleting such an item in the +middle of an iteration causes Perl to see a freed value. + =item Use of reference "%s" as array index (W misc) You tried to use a reference as an array index; this probably

3672 foreach $testname (%{$testfncdata}) { 3673 my $fnccount = $testfncdata->{$testname}; 3674 print $fnccount, "This is ----------------Top1\n"; # zj 3675 3676 foreach $func (%{$fnccount}) { 3677 #print $funcdata->{$func}, "____func----------------\n"; # zj 3678 if (defined($funcdata)) { # zj 3679 if (!defined($funcdata->{$func})) { 3680 print "__do_del__\n"; 3681 delete($fnccount->{$func}); 3682 } 3683 } 3684 } 3685 } http://dev.perl.org/perl5/list-summaries/2003/p5p-200304-4.html#___top


1 #!/bin/bash 2 # ind-ref.sh: 间接变量引用 3 # 存取一个变量的值的值(这里翻译得有点拗口,不过凑合吧) 5 a=letter_of_alphabet # 变量"a"的值是另一个变量的名字. 6 letter_of_alphabet=z 7 8 echo 9 10 # 直接引用. 11 echo "a = $a" # a = letter_of_alphabet 12 13 # 间接引用. 14 eval a=\$$a 15 echo "Now a = $a" # Now a = z

Linux运维技术交流QQ群：2516666 重定向 1---------- shell的内建命令exec将并不启动新的shell，而是用要被执行命令替换当前的shell进程，并且将老进程的环境清理掉，而且exec命令后的其它命令将不再执行。 因此，如果你在一个shell里面，执行exec ls那么，当列出了当前目录后，这个shell就自己退出了，因为这个shell进程已被替换为仅仅执行ls命令的一个进程，执行结束自然也就退出了。 2---------- 不过，要注意一个例外，当exec命令来对文件描述符操作的时候，就不会替换shell，而且操作完成后，还会继续执行接下来的命令。 exec 3<&0 :这个命令就是将操作符3也指向标准输入。 3---------- 每个打开的文件都会被分配一个文件描述符.[1]stdin, stdout, 和stderr 的文件描述符分别是 0, 1, 和 2. 对于正在打开的额外文件, 保留了描述符3 到9. 在某些时候将这些格外的文件描述符分配给 stdin, stdout, 或者是stderr 作为临时的副本链接是非常有用的 4---------- 如果stdout和stderr全部都关闭了，又没有保存原来的FD，可以用：exec 1>/dev/tty 恢复 5------ 关闭文件描述符 n<&- 关闭输入文件描述符n. 0<&-, <&- 关闭stdin. n>&- 关闭输出文件描述符n. 1>&-, >&- 关闭stdout. #+++++++++++++++++++++++++++++++++++++++++ exec filename 命令将会把stdout 重定向到一个指定的文件中 #+++++++++++++++++++++++++++++++++++++++++ 6--------- 子进程继承了打开的文件描述符. 这就是为什么管道可以工作. 如果想阻止fd 被继承, 那么可 以关掉它. 1 # 只重定向stderr 到一个管道. 2 3 exec 3>&1 # 保存当前stdout 的"值". 4 ls -l 2>&1 >&3 3>&- | grep bad 3>&- # 对'grep'关闭fd 3(但不关闭'ls'). #>&3 eql 1>&3 5 # ^^^^ ^^^^ 6 exec 3>&- # 现在对于剩余的脚本关闭它. 7 8 # Thanks, S.C. 7----------- stdin 要记得恢复 exec 6<&0 # 将文件描述符#6 与stdin 链接起来. exec 0<&6 6<&- # 现在将stdin 从fd #6 中恢复, 因为刚才我们把stdin 重定向到#6 了, 8-------------- ls -yz >> command.log 2>&1 # 全部到command.log ls -yz 2>&1 >> dirlist # only the stdout to dirlist because the standard error was duplicated as standard output before the standard output was redirected to dirlist.
 Linux下链接静态库的顺序问题 收藏 From:http://haoxg.spaces.live.com/blog/cns!667714E7CE1BE835!260.entry 在链接静态库时，如果多个静态库之间存在依赖关系，则有依赖关系的静态库之间存在链接顺序问题。这在使用静态库时需要注意，否则会报符号找不到的链接错误。 例如： lib2.a 依赖于 lib1.a，而最终可执行文件 test 依赖于 lib2.a，则链接选项应为： -llib2.a -llib1.a，而不能反过来，否则会报 lib1.a 中的某些符号未定义。 因此，在使用eXosip静态库的时候，链接顺序为 eXosip, osip2, osipparser2

http://www.chinaunix.net/jh/23/303346.html 如何在C语言中巧用正则表达式

一个由testsuite节点嵌套的xml，得到根节点信息。 

root = ElementTree() root.parse(autoxml) iterator_tree = root.getiterator() # 唯有如此才可得到根节点attr print iterator_tree[1].attrib["name"], " root_node name" testsuite = root.findall("testsuite") print testsuite[0].attrib["name"] # 第一个子节点 

