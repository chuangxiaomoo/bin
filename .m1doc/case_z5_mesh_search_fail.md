# mesh攻关

*0. 初步反馈*

620直连搜索，`有些板子`直连搜索有线IP很慢，要2-5min，630直连搜索大概要80S；

对码后搜索不全(不是必现，添加进通道后，视频是流畅的，但无线IP重复搜索几次都不能搜索到)；

重启或者恢复出厂默认之后，接入有线在大网里面，IPC很久才出流，最长有6分钟的；

*1. 破冰*

找必现，且概率高的问题。一个底层核心问题，可能会有多个不同的表现现象。

GanL找`有些板子`，然后开始做实验(最快的方法是比较):

1 问题到底是 NVR or IPC?
  两套NVR，两套IPC，做交叉实验

  |       | IPC.1   | IPC.2   | IPC.3(普通模组) |
  | :--   | :------ | :------ | :------         |
  | NVR.1 | Fail    | `漏做`  | OK              |
  | NVR.2 | OK      | OK      | OK              |

2 IPC.1 IPC.2 并不能得出好的一致性，一度怀疑是`NVR的硬件问题(这是陷阱)`，
  但是`普通模组的引入`，让问题有了转机

3 IPC.1 u-boot ping alive
  IPC.1 bash   ping till seq=30

4 IPC.1 烧写 uclibc kernel ok
  IPC.1 烧写  glibc till seq=30

5 IPC.1 烧写    rcS 中注释 auto_run.sh, ping alive
  这是突破的一步，可以证明是 auto_run.sh 的问题

6 之后，不停的二分即可解决问题
  EMAC.BUFF cma fix 导致

*2. 连锁解决*

解决 EMAC.BUFF 后，其它的网络问题都随之解决。

*5. 3次秤重在12球中找坏球*

# 流程优化

1 不要让人都在调度中(线程切换+空转)， 要有人专注(调度/执行 = 1/3)
2 要破冰
3 要分解(每步都要有调试手段，调试的时间终究是要比写代码的时间多的)
4 会议要有人主持，项目要有专人进行跟进(之前的情况是:cheby没有时间，chenyf能力不足)

